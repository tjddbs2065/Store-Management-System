<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>재고 조회 : 직영점</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        body{background:#f8f9fa}
        .layout-container{max-width:1500px;margin:0 auto}

        .store-item-table thead th{
            position:sticky;top:0;z-index:2;
            background:#e9ecef !important;color:#212529 !important;
            box-shadow:0 1px 0 rgba(0,0,0,.05);
        }
        .store-item-table td,.store-item-table th{font-size:.9rem}

        .text-qty{text-align:right;white-space:nowrap}
        .text-code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}

        .btn-main{background:#FFEEAA;border-color:#FFEEAA;color:#000}
        .btn-main:hover{background:#f2da84;border-color:#f2da84;color:#000}

        .icon-btn{border:0;background:transparent;padding:4px;line-height:1}
        .icon-btn:focus{box-shadow:none}
        .limit-gear{cursor:pointer}
    </style>
</head>
<body data-role="STORE" th:attr="data-store-no=${storeNo}">
<header th:replace="fragments/toolBar :: toolBar"></header>

<div class="layout-container py-4 px-3">
    <div class="d-flex align-items-center justify-content-between mb-2">
        <h3 class="fw-bold mb-0">재고 조회 : 직영점</h3>
    </div>

    <div class="card p-3 mb-3 shadow-sm border-0">
        <div class="row g-2 align-items-center">
            <div class="col-auto fw-bold">카테고리</div>
            <div class="col-6 col-md-2">
                <select id="categorySelect" class="form-select form-select-sm">
                    <option value="">전체</option>
                    <option>도우</option>
                    <option>치즈</option>
                    <option>토핑</option>
                    <option>소스</option>
                    <option>향신료</option>
                    <option>야채</option>
                    <option>면</option>
                    <option>사이드</option>
                    <option>음료</option>
                </select>
            </div>

            <div class="col-6 col-md-2">
                <!-- ★ NAME / CODE 로 맞춤 -->
                <select id="searchTypeSelect" class="form-select form-select-sm">
                    <option value="NAME">품목명</option>
                    <option value="CODE">품목코드</option>
                </select>
            </div>

            <div class="col-12 col-md-5">
                <div class="input-group input-group-sm">
                    <input id="searchKeyword" class="form-control" placeholder="검색어 입력">
                    <button class="btn btn-main" id="btnSearchExec">조회</button>
                    <button class="btn btn-outline-secondary" id="btnResetFilter">초기화</button>
                </div>
            </div>
            <!-- 직영점 화면: 직영점 검색/모달/오버레이 없음 -->
        </div>
    </div>

    <div class="card shadow-sm border-0">
        <div class="card-body p-0">
            <div class="table-responsive">
                <table class="table align-middle mb-0 store-item-table bg-white">
                    <thead>
                    <tr class="table-light">
                        <th>품목코드</th>
                        <th>품목명</th>
                        <th>카테고리</th>
                        <th class="text-qty">하한선</th>
                        <th class="text-qty">현재 재고</th>
                        <th class="text-center">품목 상세</th>
                    </tr>
                    </thead>
                    <tbody id="stockTableBody">
                    <!-- JS로 렌더링 -->
                    </tbody>
                </table>
            </div>

            <nav class="mt-2 mb-2">
                <ul class="pagination justify-content-center" id="mainPager"><!-- JS 생성 --></ul>
            </nav>
        </div>
    </div>
</div>

<!-- 폐기/하한선 모달은 공용 프래그먼트 사용 -->
<div th:replace="fragments/modalLimit :: modalLimit"></div>
<div th:replace="fragments/modalDispose :: modalDispose"></div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/modalStoreSearch.js"></script>
<script src="/js/storeItem.js"></script>
</body>
</html>
