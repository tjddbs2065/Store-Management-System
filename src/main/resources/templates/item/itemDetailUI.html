<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>품목 상세</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background-color:#f5f5f5 !important; }
        .wrapper-box { max-width:1280px; margin:1.5rem auto 2.5rem; }
        .view-box{
            border:1px solid #dee2e6; border-radius:.375rem;
            padding:.5rem .75rem; background:#fafafa; min-height:38px;
        }
        .detail-img{
            width:220px; height:160px; object-fit:cover;
            border-radius:.5rem; box-shadow:0 1px 3px rgba(0,0,0,.2); background:#eee;
        }
        .custom-btn{
            background-color:#FFEEAA !important;
            border-color:#FFEEAA !important;
            color:#000;
        }
        .custom-btn:hover{
            background-color:#f2da84 !important;
            border-color:#f2da84 !important;
        }
    </style>
</head>

<body th:attr="data-role=${role}, data-item-no=${itemNo}">
<header th:replace="fragments/toolBar :: toolBar"></header>

<main class="py-3">
    <div class="wrapper-box">
        <div class="card shadow-sm">
            <div class="card-body p-4">

                <!-- 제목 + 버튼 -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2 class="fw-bold mb-0">품목 상세</h2>
                    <div class="d-flex gap-2">
                        <!-- MANAGER만 수정/삭제 버튼 -->
                        <button id="btnEdit" class="btn custom-btn" th:if="${role=='MANAGER'}">수정</button>
                        <button id="btnDelete" class="btn btn-outline-danger" th:if="${role=='MANAGER'}">품목 삭제</button>
                        <button class="btn btn-outline-secondary" id="btnBackList"
                                th:onclick="|location.href='@{/item/get}'|">
                            전체 품목 목록으로
                        </button>
                    </div>
                </div>

                <!-- 기본 정보 -->
                <section class="mb-3">
                    <h5 class="fw-bold mb-3">기본 정보</h5>
                    <div class="border rounded-3 p-3">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label class="form-label fw-semibold">카테고리</label>
                                <div class="view-box" id="d-category">-</div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label fw-semibold">품목 코드</label>
                                <div class="view-box" id="d-itemCode">-</div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label fw-semibold">품목 명</label>
                                <div class="view-box" id="d-itemName">-</div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label fw-semibold">재료 명</label>
                                <div class="view-box" id="d-ingredientName">-</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 규격·공급 정보 -->
                <section class="mb-3">
                    <h5 class="fw-bold mb-3">규격·공급 정보</h5>
                    <div class="border rounded-3 p-3">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label class="form-label fw-semibold">기준 단위</label>
                                <div class="view-box" id="d-stockUnit">-</div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label fw-semibold">공급 단위</label>
                                <div class="view-box" id="d-supplyUnit">-</div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label fw-semibold">환산 (1 공급단위)</label>
                                <div class="view-box" id="d-convert">-</div>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label fw-semibold">공급 가격</label>
                                <div class="view-box" id="d-itemPrice">-</div>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-semibold">공급사</label>
                                <div class="view-box" id="d-supplier">-</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 보관 정보 -->
                <section class="mb-3">
                    <h5 class="fw-bold mb-3">보관 정보</h5>
                    <div class="border rounded-3 p-3">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label class="form-label fw-semibold">보관 방식</label>
                                <div class="view-box" id="d-storageType">-</div>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-semibold">보관기한 타입</label>
                                <div class="view-box" id="d-expType">-</div>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-semibold">보관기한</label>
                                <div class="view-box" id="d-expiration">-</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 기타 정보 -->
                <section>
                    <h5 class="fw-bold mb-3">기타 정보</h5>
                    <div class="border rounded-3 p-3">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label class="form-label fw-semibold">품목 이미지</label><br>
                                <img id="d-itemImage" class="detail-img"
                                     src="https://via.placeholder.com/220x160" alt="품목 이미지">
                            </div>
                            <div class="col-md-8">
                                <label class="form-label fw-semibold">비고</label>
                                <div class="view-box" id="d-note" style="height:140px;">-</div>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </div>
    </div>
</main>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/item.js"></script>
</body>
</html>
