<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>새 품목 등록</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background-color: #f5f5f5 !important; }
        .wrapper-box { max-width: 1280px; margin: 1.5rem auto 2.5rem; }

        .custom-btn {
            background-color: #FFEEAA !important;
            border-color: #FFEEAA !important;
            color: #000;
        }
        .custom-btn:hover {
            background-color: #f2da84 !important;
            border-color: #f2da84 !important;
        }

        .gray-btn {
            background-color: #D9D9D9 !important;
            border: #ffffff !important;
        }
        .gray-btn:hover {
            background-color: #C9C9C9 !important;
            border-color: #ffffff !important;
        }

        .img-drop {
            border: 2px dashed #ccc;
            border-radius: 8px;
            width: 220px;
            height: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: #aaa;
            cursor: pointer;
            background: #fafafa;
        }
    </style>
</head>
<body th:attr="data-role=${role}">

<header th:replace="fragments/toolBar :: toolBar"></header>

<main class="py-3">
    <div class="wrapper-box">
        <div class="card shadow-sm">
            <div class="card-body p-4">

                <!-- 제목 + 목록 -->
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2 class="fw-bold mb-0">새 품목 등록</h2>
                    <button class="btn btn-outline-secondary"
                            th:onclick="|location.href='@{/item/get}'|">
                        전체 품목 목록으로
                    </button>
                </div>

                <form id="itemFormAdd">
                    <!-- 기본 정보 -->
                    <section class="mb-3">
                        <h5 class="fw-bold mb-3">기본 정보</h5>
                        <div class="border rounded-3 p-3">
                            <div class="row g-4">
                                <div class="col-md-3">
                                    <label class="form-label fw-semibold">카테고리</label>
                                    <select class="form-select" id="itemCategory">
                                        <option value="" selected disabled>선택</option>
                                        <option>도우</option>
                                        <option>치즈</option>
                                        <option>토핑</option>
                                        <option>소스</option>
                                        <option>향신료</option>
                                        <option>야채</option>
                                        <option>면</option>
                                        <option>사이드</option>
                                        <option>음료</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-semibold">품목 코드</label>
                                    <input type="text" class="form-control" id="itemCode" placeholder="예: MOZZ-2.5KG">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-semibold">품목 명</label>
                                    <input type="text" class="form-control" id="itemName" placeholder="예: 모짜렐라 2.5kg 블럭">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-semibold">재료 명</label>
                                    <input type="text" class="form-control" id="ingredientName" placeholder="예: 피자 치즈">
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- 규격·공급 정보 -->
                    <section class="mb-3">
                        <h5 class="fw-bold mb-3">규격·공급 정보</h5>
                        <div class="border rounded-3 p-3">
                            <div class="row g-4">
                                <div class="col-md-3">
                                    <label class="form-label fw-semibold">기준 단위</label>
                                    <select class="form-select" id="stockUnit">
                                        <option value="" selected disabled>선택</option>
                                        <option>g</option>
                                        <option>ml</option>
                                        <option>l</option>
                                        <option>ea</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-semibold">공급 단위</label>
                                    <select class="form-select" id="supplyUnit">
                                        <option value="" selected disabled>선택</option>
                                        <option value="box">box</option>
                                        <option value="ea">ea</option>
                                        <option value="pack">pack</option>
                                        <option value="can">can</option>
                                        <option value="bottle">bottle</option>
                                        <option value="bag">bag</option>
                                        <option value="block">block</option>
                                    </select>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-semibold">환산 (1 공급단위)</label>
                                    <div class="input-group input-group-sm">
                                        <input type="number" class="form-control" id="convertStock" placeholder="예: 2500">
                                        <span class="input-group-text">기준단위</span>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label fw-semibold">공급 가격</label>
                                    <div class="input-group input-group-sm">
                                        <input type="number" class="form-control" id="itemPrice" placeholder="예: 45000">
                                        <span class="input-group-text">원</span>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label fw-semibold">공급사</label>
                                    <input type="text" class="form-control" id="supplier" placeholder="예: 신선신선 치즈">
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- 보관 정보 -->
                    <section class="mb-3">
                        <h5 class="fw-bold mb-3">보관 정보</h5>
                        <div class="border rounded-3 p-3">
                            <div class="row g-4">
                                <div class="col-md-4">
                                    <label class="form-label fw-semibold d-block">보관 방식</label>
                                    <div class="btn-group" role="group">
                                        <input type="radio" class="btn-check" name="storageType" id="storageRoom" value="상온" checked>
                                        <label class="btn btn-outline-secondary" for="storageRoom">상온</label>

                                        <input type="radio" class="btn-check" name="storageType" id="storageCold" value="냉장">
                                        <label class="btn btn-outline-secondary" for="storageCold">냉장</label>

                                        <input type="radio" class="btn-check" name="storageType" id="storageFrozen" value="냉동">
                                        <label class="btn btn-outline-secondary" for="storageFrozen">냉동</label>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <label class="form-label fw-semibold">보관기한 타입</label>
                                    <select class="form-select" id="expirationType">
                                        <option value="" selected disabled>선택</option>
                                        <option value="입고 후 n일">입고 후 n일</option>
                                        <option value="선입 선출">선입 선출</option>
                                        <option value="남은 유통기한 기준">남은 유통기한 기준</option>
                                    </select>
                                </div>

                                <div class="col-md-4" id="expirationDaysBox" style="display:none;">
                                    <label class="form-label fw-semibold">보관기한</label>
                                    <div class="input-group input-group-sm">
                                        <input type="number" class="form-control" id="expiration" placeholder="예: 7">
                                        <span class="input-group-text">일</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- 기타 정보 -->
                    <section class="mb-3">
                        <h5 class="fw-bold mb-3">기타 정보</h5>
                        <div class="border rounded-3 p-3">
                            <div class="row g-4">
                                <div class="col-md-4">
                                    <label class="form-label fw-semibold">품목 이미지</label><br>
                                    <div class="img-drop" id="imgDropAdd">+</div>
                                    <input type="file" id="itemImage" class="form-control mt-2" style="max-width:220px;">
                                    <input type="hidden" id="itemImageUrl">

                                </div>
                                <div class="col-md-8">
                                    <label class="form-label fw-semibold">비고</label>
                                    <textarea class="form-control" id="note" rows="5" placeholder="메모를 입력하세요"></textarea>
                                </div>
                            </div>
                        </div>
                    </section>

                    <div class="text-center mt-3">
                        <button type="button" class="btn custom-btn" id="btnItemSave">등록</button>
                        <button type="button" class="btn gray-btn ms-2"
                                th:onclick="|location.href='@{/item/get}'|">
                            취소
                        </button>
                    </div>
                </form>

            </div>
        </div>
    </div>
</main>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/item.js"></script>
</body>
</html>
